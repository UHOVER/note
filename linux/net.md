### ISO/OSI 七层模型 ###	
7-应用层			APDU(提供接口)	
6-表示层			PPDU(数据表示，翻译成机器语言，压缩加密)	
5-会话层			SPDU(判断会不会发送网络传递)	
4-传输层			TPDU(传输协议，TCP[可靠]、UDP[不可靠]，确定发送和接收端口号)	
3-网络层			报文(确定 IP 地址，发送方接收方的IP。选路)	
2-数据链路层      帧 (包含计算机的网卡的硬件地址 MAC地址。源MAC地址和目标MAC地址。通过一个局域网跳到另一个局域网)	
1-物理层         比特( 01)	

上三层给用户提供用户服务，下四层是实际的数据传递的	
MAC 地址负责局域网通信	
IP 地址负责外网通信	

### TCP/IP 四层模型 ###
应用层 		->[应用层\表示层\会话层]	为用户提供所需要的各种服务，例如：FTP、Telnet、DNS、SMTP
传输层 		->[传输层]				为应用层提供端到端的通信功能，保证数据包的顺序传递及数据的完整行。TCP、UDP[发送端口和接收端口]	
网际互联层 	->[网络层]				主要解决主机到主机的通讯问题。数据包在整个网络上的传输逻辑。有三个主要协议：IP、IGMP、ICMP   
网络接口层 	->[数据链路层\物理层]		负责监视数据在主机和网络之间的交换。地址解析协议(ARP)工作在此层

arp 把IP地址翻译成网卡物理地址($arp -a //解析当前计算机有联系的IP地址和对应的MAC地址)			
IP地址：跨网段、公网、互联网 数据传递需要考IP地址进行传递	
MAC地址：如果在局域网、同一个网段之内，传递数据是靠MAC地址(物理地址) 
同一局域网发送数据流程：发送-> 发到网线-> 发到交换机(只能识别 MAC 地址) -> 判断   

TCP/IP 三次握手(信息错误，会重新传送)
发送SYN信息(序列号=x)		            ->		接收SYN信息(序列号=x)
接收SYN、ACK信息(序列号=y,确认号=x+1)	<-	    发送SYN、ACK信息(序列号=y,确认号=x+1)
发送ACK信息(确认号=y+1)	            ->		接收ACK信息(确认号=y+1)

数据封装和解封过程
应用数据												 |字节流(数据)|
应用层 										   |FTP头|字节流(数据)|
传输层 									  |TCP头|FTP头|字节流(数据)|
网络层  								 |IP头|TCP头|FTP头|字节流(数据)|
数据链路层  					  |以太帧头|IP头|TCP头|FTP头|字节流(数据)|

网络上的数据			|以太帧头|目的地址|源地址|包类型|包数据|CRC
包数据=[|IP头|TCP头|FTP头|字节流(数据)|]


### IP 地址 ###
IP包头？
IPV4 没有 IPV6 快的原因是 IPV4 的 IP包头长度不固定的，接收到数据包要先去检查

IP 地址
2^32
二进制
00000000.00000000.00000000.00000000
11111111.11111111.11111111.11111111
换成10进制
0.0.0.0
255.255.255.255
ip地址分类
---------------------------------------------------------------------------------------------------
网络类型 |	最大网络数	|	IP地址范围					| 最大主机数 |	私有IP地址范围
---------------------------------------------------------------------------------------------------
	A   | 126(2^7-2)	| 1.0.0.0--126.255.255.255		| 2^24-2    | 10.0.0.0--10.255.255.255
	B   | 16384(2^14)	| 128.0.0.0--191.255.255.255	| 2^16-2	| 172.16.0.0--173.31.255.255
    C   | 2097152(2^21)	| 192.0.0.0--223.255.255.255	| 2^8-2		| 192.168.0.0--192.168.255.255
---------------------------------------------------------------------------------------------------
D和E 不对民用组织开发 224-225 不在可用范围
127 只有一个网段(127.0.0.1)是代表当前计算机自己，不属于上面几类

不同的网络(网段)需要通信，就要用路由器(跨网络通讯)，同一个网络通信使用交换机就可以了
A类
1.0.0.0 和 2.0.0.0 A 类的第一位不同的数代表不同的网络(网段)
后三个数变化代表同一个网络的不同主机，(当前网段)最大主机数表示后 2^24-2=256*256*256-2(x.0.0.0 & x.255.255.255)
x.0.0.0 代表网络本身(Network ID)，不能分配
x.255.255.255 代表当前网络的广播地址，不能分配

B类
前两个数代表一个网段，后两个数代表当前网段的不同主机

C类
前三个数代表一个网段，后一个数代表当前网段的不同主机

私有IP地址:不需要花钱去购买的,私有IP不能直接访问公网，他们需要和公网IP进行转换才能访问

### 子网掩码(Subnet Mask) ###
ABC类的网段个数和主机个数，是由子网掩码决定的
作用：用来确定 IP 地址当中，哪一个变化代表不同网段，哪一个数代表同一个网段当中的不同主机。跟255对应的IP变化代表不同网段，和0对应代表主机
子网掩码的合理：换算为 二进制所有的1都是连续的，例如：255.0.0.0 255.255.0.0 255.255.255.0 可变化
广播地址:专门用于同时向网络中所有工作站进行发送的一个地址 [代表这个网段的第一个IP]
上面所说的各类IP对应的主机数，都是采用默认的子网掩码，也可以才有非默认子网掩码
IP 和 子网掩码不能单独使用，必要同时使用


变长子网掩码及子网规则
IP地址： 172.16.2.121
子网掩码：255.255.255.0

					网络位	|	网络位	|	子网位	|	主机位
---------------------------------------------------------------------
172.16.2.121  :   10101100	| 00010000	| 00000010	| 01111001
255.255.255.0 :   11111111	| 11111111	| 11111111	| 00000000
---------------------------------------------------------------------
	网络地址	  :	  10101100	| 00010000	| 00000010	| 00000000			
	广播地址	  :	  10101100	| 00010000	| 00000010	| 11111111	

	网络地址 = 172.16.2.0
	主机地址 = 172.16.2.1 -- 172.16.2.254
	广播地址 = 172.16.2.255

网络地址(Network ID)的计算方法：IP地址  &(与运算)  子网掩码
广播地址的计算方式：将子网掩码二进制的0换成1，然后 IP地址  &(与运算)  子网掩码		

说明了并不是 B类 IP 都必须只能分配两个255两个0，也可以随意指定子网掩码，只要是合理即可，上述 172.16.2 为网段，121 为主机，最大的主机数是2^8-2

### 端口 ###
TCP 协议包头？
可以的端口数 2^16，10000以内，给系统用，大于10000给编程用
常见端口号
FTP(文件传输协议): 		端口号 20 21
SSH(安全shell协议): 		端口号 22
telnet(远程登录协议): 		端口号 23(明文不加密)
DNS(域名系统): 			端口号 53
http(超文本传输协议):		端口号 80
SMTP(简单邮件传输协议):	端口号 25(发信)
POP3(邮局协议3代):		端口号 110(收信)

查看本机启用端口
#netstat -an
	-a : 查看所有连接和监听端口
	-n : 显示IP地址和端口号，而不显示域名和服务器名

访问发起者(客户端)的端口是随机端口，访问目标(服务器)的端口是固定端口
state 
LISTEN:监听(UDP没有这个状态)
ESTABLISHED:正在链接

### NDS ###














































end
